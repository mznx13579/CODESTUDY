//-------| src/dot.c |-------//
#include "dot.h"


static unsigned short dot_hexadecimal[26][MAX_DOT] = {
	{0x3F, 0x48, 0x48, 0x48, 0x3F}, // A 
	{0x7F, 0x49, 0x49, 0x49, 0x36}, // B
	{0x3E, 0x41, 0x41, 0x41, 0x22}, // C
	{0x7F, 0x41, 0x41, 0x22, 0x1C}, // D
	{0x7F, 0x49, 0x49, 0x49, 0x49}, // E
	{0x7F, 0x48, 0x48, 0x48, 0x48}, // F 
	{0x3E, 0x41, 0x41, 0x49, 0x2E}, // G 
	{0x7F, 0x08, 0x08, 0x08, 0x7F}, // H 
	{0x00, 0x41, 0x7F, 0x41, 0x00}, // I
	{0x02, 0x41, 0x41, 0x7E, 0x40}, // J  
	{0x7F, 0x08, 0x14, 0x22, 0x41}, // K 
	{0x7F, 0x01, 0x01, 0x01, 0x01}, // L 
	{0x7F, 0x20, 0x10, 0x20, 0x7F}, // M 0
	{0x7F, 0x10, 0x08, 0x04, 0x7F}, // N 0
	{0x3E, 0x41, 0x41, 0x41, 0x3E}, // O 
	{0x7F, 0x48, 0x48, 0x48, 0x30}, // P 0
	{0x3E, 0x41, 0x45, 0x42, 0x3D}, // Q v
	{0x7F, 0x48, 0x4c, 0x4A, 0x31}, // R 0
	{0x31, 0x49, 0x49, 0x49, 0x46}, // S 0
	{0x40, 0x40, 0x7F, 0x40, 0x40}, // T 0
	{0x7E, 0x01, 0x01, 0x01, 0x7E}, // U 0
	{0x7d, 0x02, 0x01, 0x02, 0x7D}, // V 0
	{0x7f, 0x02, 0x04, 0x02, 0x7f}, // W 0
	{0x63, 0x14, 0x08, 0x14, 0x63}, // X
	{0x07, 0x08, 0x70, 0x08, 0x07}, // Y
	{0x61, 0x51, 0x49, 0x45, 0x43}  // Z
};

static short * dot[MAX_DOT];

void init_dot(short * address[]) {
	int i;
	for( i=0; i<MAX_DOT; i++ ) {
		dot[i] = address[i];
	}
}

void dot_clear() {
	int i;
	for(i=0; i<MAX_DOT; i++){
		*dot[i] = 0;
	}
	usleep(0); // for Ximulator
}

void dot_write(int number) {
	int i;
	for(i=0; i<MAX_DOT; i++){
		*dot[i] = dot_hexadecimal[number][i];
	}
	usleep(0); // for Ximulator
}
